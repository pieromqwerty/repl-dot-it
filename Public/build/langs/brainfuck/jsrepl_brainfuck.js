(function(){self.JSREPLEngine=function(){function g(b,c,h,j,a,d){this.result=h;this.error=j;this.sandbox=a;this.result_fn_factory=function(){return function(d){return function(b,f){var a,c,e,h;e=b.map(function(a){return a});e.length=e.length<f?f+1:e.length;for(a=c=0,h=e.length;c<h;a=++c)e[a]||(e[a]=0);f<10?a=0:(a=f-10,e[a]="..."+e[a]);e[f]||(e[f]=0);c=e.slice(a,f);e[f+10]!=null&&(e[f+10]+="...");a=e.slice(f+1,+(f+10)+1||9E9);return d(c.concat(["["+e[f]+"]"]).concat(a).join(" "))}}}(this);this.result_handler=
this.result_fn_factory(this.result);this.BFI=new this.sandbox.BF.Interpreter(b,c,this.result_handler);d()}g.prototype.Eval=function(b){try{return b==="SHOWTAPE"?(this.BFI.result=function(b){return function(c,a){var d,i,g,f;d=c.map(function(a){return a});d.length=d.length<a?a+1:d.length;for(i=g=0,f=d.length;g<f;i=++g)d[i]||(d[i]=0);d[a]||(d[a]=0);d[a]="["+d[a]+"]";return b.result(d.join(" "))}}(this),this.BFI.evaluate(""),this.BFI.result=this.result_handler):b.match(/^RESET\b/)?(this.BFI.reset(),this.BFI.evaluate(b.replace(/^RESET/,
""))):this.BFI.evaluate(b)}catch(c){return this.error(c)}};g.prototype.EvalSync=function(b){var c;c=null;this.BFI.result=this.result_fn_factory(function(b){return c=b});this.BFI.evaluate(b);this.BFI.result=this.result_handler;return c};g.prototype.GetNextLineIndent=function(b){var c;c=function(){return function(b){var c,a,d,g;g=b.split("");a=0;for(b=0,c=g.length;b<c;b++)switch(d=g[b],d){case "[":++a;break;case "]":--a}return a}}(this);return c(b)<=0?false:(b=c(b.split("\n").slice(-1)[0]),b>0?1:b<
0?b:0)};return g}()}).call(this);
