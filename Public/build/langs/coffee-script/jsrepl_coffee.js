(function(){var i,l=[].indexOf||function(d){for(var a=0,c=this.length;a<c;a++)if(a in this&&this[a]===d)return a;return-1};i="FOR,WHILE,UNTIL,LOOP,IF,POST_IF,SWITCH,WHEN,CLASS,TRY,CATCH,FINALLY".split(",");self.JSREPLEngine=function(){function d(a,c,b,e,d,g){this.result=b;this.error=e;this.sandbox=d;this.inspect=this.sandbox.console.inspect;this.CoffeeScript=this.sandbox.CoffeeScript;this.sandbox.__eval=this.sandbox.eval;g()}d.prototype.Eval=function(a){var c,b;try{return c=this.CoffeeScript.compile(a,
{globals:true,bare:true}),b=this.sandbox.__eval(c),this.result(b===void 0?"":this.inspect(b))}catch(e){return this.error(e)}};d.prototype.RawEval=function(a){var c,b;try{return c=this.CoffeeScript.compile(a,{globals:true,bare:true}),b=this.sandbox.__eval(c),this.result(b)}catch(e){return this.error(e)}};d.prototype.GetNextLineIndent=function(a){var c,b,e,d,g,j,h,k,f;d=a.split("\n").slice(-1)[0];if(/([-=]>|[\[\{\(]|\belse)$/.test(d))return 1;else{try{c=this.CoffeeScript.tokens(a),g=this.CoffeeScript.tokens(d)}catch(m){return 0}try{if(this.CoffeeScript.compile(a),
/^\s+/.test(d))return 0;else{for(e=b=0,j=c.length;b<j;e=++b)if(f=c[e],h=c[e+1],f[0]==="REGEX"&&f[1]==="/(?:)/"&&h[0]==="MATH"&&h[1]==="/")return 0;return false}}catch(n){b=0;for(a=0,c=g.length;a<c;a++)f=g[a],(k=f[0],l.call(i,k)>=0)?b++:f.fromThen&&b--;return b>0?1:0}}};return d}()}).call(this);
